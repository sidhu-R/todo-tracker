https://github.com/sidhu-R/todo-tracker.git

models
    PROFILE:
    user1=models.ForeignKey(User,on_delete=models.CASCADE,blank=True)
    name=models.CharField(max_length=100)
    image1=models.ImageField(upload_to='profile',blank=True)
    about1=models.CharField(max_length=300,blank=True)
    company1=models.CharField(max_length=100,blank=True)
    job1=models.CharField(max_length=50,blank=True)
    country1=models.CharField(max_length=20,blank=True)
    adress1=models.CharField(max_length=200,blank=True)
    phone1=models.CharField(max_length=30,blank=True)
    twitter1=models.CharField(max_length=30,blank=True)
    facebook1=models.CharField(max_length=30,blank=True)
    instagram1=models.CharField(max_length=30,blank=True)
    linkdin1=models.CharField(max_length=30,blank=True)


    TASK:
class task1(models.Model):
    STATUS_CHOICES=[
        ('pending',"Pending"),
        ('in_progress',"In Progress"),
        ('finished',"Finished")
    ]
    user1=models.ForeignKey(User,on_delete=models.CASCADE,blank=True)
    task_title1=models.CharField(max_length=50)
    task_desc1=models.CharField(max_length=150)
    task_priority1=models.CharField(max_length=10)
    task_status1=models.CharField(max_length=20,choices=STATUS_CHOICES)
    task_due1=models.DateField()
    task_created_date=models.DateTimeField(auto_now=True)


 {% for prof in profile %}
                <div class="tab-pane fade show active profile-overview" id="profile-overview">
                  <h5 class="card-title">About</h5>
                  <p class="small fst-italic" id="abt">{{prof.about2}}</p>

                  <h5 class="card-title">Profile Details</h5>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label ">Full Name</div>
                    <div class="col-lg-9 col-md-8" >{{prof.name2}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Company</div>
                    <div class="col-lg-9 col-md-8">{{prof.company2}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Job</div>
                    <div class="col-lg-9 col-md-8" >{{prof.job2}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Country</div>
                    <div class="col-lg-9 col-md-8" >{{prof.country2}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Address</div>
                    <div class="col-lg-9 col-md-8">{{prof.adress2}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Phone</div>
                    <div class="col-lg-9 col-md-8">{{prof.phone2}}</div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">Email</div>
                    <div class="col-lg-9 col-md-8">{{prof.email2}}</div>
                  </div>

                </div>
                {% endfor %}




7c6639d9960649a991e008707b3ccc08

              {% for prof in profile %}
              <img src="{{prof.image2.url}}" alt="Profile" class="rounded-circle">
              {% endfor %}



<div class="tab-pane fade profile-edit pt-3" id="profile-edit">

    <!-- Profile Edit Form -->

    <form action="" method="post" id="newsform" enctype="multipart/form-data">
      {% csrf_token %}
      <!-- <div class="row mb-3">
        <label for="profileImage" class="col-md-4 col-lg-3 col-form-label">Profile Image</label>
        <div class="col-md-8 col-lg-9">

          <img src="{{prof.image2.url}}" alt="Profile">
          <div class="pt-2">

            <input type="file" id="upload_file" class="btn btn-primary btn-sm" name="img" >
            <button onclick="" class="btn btn-danger btn-sm" title="Remove my profile image"><i class="bi bi-trash"></i></button>

          </div>
        </div>
      </div> -->

      <div class="row mb-3">
        <label for="name" class="col-md-4 col-lg-3 col-form-label">Full Name</label>
        <div class="col-md-8 col-lg-9">
          <input name="name" type="text" class="form-control" id="fullName" value="{{prof.name2}}">
        </div>
      </div>

      <div class="row mb-3">
        <label for="about" class="col-md-4 col-lg-3 col-form-label">About</label>
        <div class="col-md-8 col-lg-9">
          <textarea name="about" class="form-control" id="about" style="height: 100px">{{prof.about2}}</textarea>
        </div>
      </div>

      <div class="row mb-3">
        <label for="company" class="col-md-4 col-lg-3 col-form-label">Company</label>
        <div class="col-md-8 col-lg-9">
          <input name="company" type="text" class="form-control" id="company" value="{{prof.company2}}">
        </div>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-primary">Save Changes</button>
      </div>
    </form><!-- End Profile Edit Form -->

  </div>



            {%for new in news %}
              <div class="col">
              <div class="card">
                <img src="{{new.news_img.url}}" class="card-img-top"
                  alt="News" />
                <div class="card-body">
                  <h5 class="card-title">{{new.news_title}}</h5>
                  <p class="card-text">
                    {{new.news_desc}}
                  </p>
                </div>
              </div>
            </div>
            {% endfor %}






                <div class="activity-item d-flex">
                  <div class="activite-label">56 min</div>
                  <i class='bi bi-circle-fill activity-badge text-danger align-self-start'></i>
                  <div class="activity-content">
                    Voluptatem blanditiis blanditiis eveniet
                  </div>
                </div><!-- End activity item-->

                <div class="activity-item d-flex">
                  <div class="activite-label">2 hrs</div>
                  <i class='bi bi-circle-fill activity-badge text-primary align-self-start'></i>
                  <div class="activity-content">
                    Voluptates corrupti molestias voluptatem
                  </div>
                </div><!-- End activity item-->

                <div class="activity-item d-flex">
                  <div class="activite-label">1 day</div>
                  <i class='bi bi-circle-fill activity-badge text-info align-self-start'></i>
                  <div class="activity-content">
                    Tempore autem saepe <a href="#" class="fw-bold text-dark">occaecati voluptatem</a> tempore
                  </div>
                </div><!-- End activity item-->

                <div class="activity-item d-flex">
                  <div class="activite-label">2 days</div>
                  <i class='bi bi-circle-fill activity-badge text-warning align-self-start'></i>
                  <div class="activity-content">
                    Est sit eum reiciendis exercitationem
                  </div>
                </div><!-- End activity item-->

                <div class="activity-item d-flex">
                  <div class="activite-label">4 weeks</div>
                  <i class='bi bi-circle-fill activity-badge text-muted align-self-start'></i>
                  <div class="activity-content">
                    Dicta dolorem harum nulla eius. Ut quidem quidem sit quas
                  </div>
                </div>


 
  function loadfullAnnoun() {
    $.ajax({
    url: '/full_view_announce/',
    type: 'GET',
    dataType: 'json',
    success: function(data) {
  
      var body2=$('#bigann')
      body2.empty()
    
      data.forEach(function(item) {
        var cardHtml2=`
        <div class="card-body">
        <h5 class="card-title">${item.ann_title}</h5>
        <p class="card-text">${item.ann_desc}</p>
        <p>${item.ann_created}</p>
        <p>--${item.user_name}</p>
        </div>
        `;
        body2.append(cardHtml2)
    
      });
    }
    });
    }
    
  




// $(document).ready(function() {
//   function loadData(sortBy,sortBy2) {
//     $('#tasktable').DataTable().clear().destroy();

   
  
//   $.ajax({
//     url: '/data_task_view/',
//     type: 'POST',
//     data: {
//       'sort_by': sortBy,
//       'sort_by2':sortBy2,
//   },
//     success: function(data) {
     
//       var tbody = $('#tasktable tbody');
//       tbody.empty();
  
//       let num=1;
//       $.each(data, function(index, item) {  
//         var row = `<tr data-id="${item.id}">
//                         <td>${num}</td>
//                         <td>${item.task_title}</td>
//                         <td>${item.task_desc}</td>
//                         <td>${item.task_due}</td>
//                         <td>${item.task_priority}</td>
//                         <td>${item.task_status}</td>
//                         <td> <button id='but1' class='btn btn-primary' data-bs-toggle='modal' data-bs-target='#basicModal2'>Edit </button> </td>
//                       </tr>
//                         `;
//         tbody.append(row);
  
        
//         num++;
  
//       });
  
//       var dataTable = $('.datatable').DataTable({
//         "destroy": true,
//         "retrieve": true,
//         "info": false,

//         drawCallback: function(settings) {
//         var pagination = $(this).closest('.dataTables_wrapper').find('.dataTables_paginate');
//         pagination.toggle(this.api().page.info().pages > 1);
//         },
        

  
//       });
      
  
//       dataTable.columns().every(function() {
//       var column = this;
  
//       $('.filter-column', this.footer()).on('keyup change', function() {
//         if (column.search() !== this.value) {
//           column
//             .search(this.value)
//             .draw();
//           this.focus();
//         }
//       });


//       });
      
  
  
//     }
  
    
//   });

//   }
  
//   loadData('','');
//   $('#task_date_submit').click(function() {
//     var sortBy = $('#min').val();
//     var sortBy2 = $('#max').val();
//     loadData(sortBy,sortBy2);
//   });
  
  
  
  
   
//   });

















  $(document).ready(function() {
    loadData();

    $('#createBtn').click(createData);
    $('#updateBtn').click(updateData);
    $('#deleteBtn').click(deleteData);
  });


// function loadData() {
//   $.ajax({
//     url: '/data/',
//     type: 'GET',
//     dataType: 'json',
//     success: function(data) {
//       var tbody = $('#tasktable tbody');
//       tbody.empty();

//       data.forEach(function(item) {
//         var row = '<tr data-id="' + item.id + '">';
//         row += '<td>' + item.id + '</td>';
//         row += '<td>' + item.task_title1 + '</td>';
//         row += '<td>' + item.task_desc1 + '</td>';
//         row += '<td>' + item.task_due1 + '</td>';
//         row += '<td>' + item.task_priority1 + '</td>';
//         row += '<td>' + item.task_status1 + '</td>';
//         row +="<td> <button id='but1' class='btn btn-primary' data-bs-toggle='modal' data-bs-target='#basicModal'>Edit </button> </td>";
//         row += '</tr>';
//         tbody.append(row);
//       });
    

//     }
//   });
// }


function loadData() {
$.ajax({
  url: '/data/',
  type: 'GET',
  dataType: 'json',
  success: function(data) {
    var tbody = $('#tasktable tbody');
    tbody.empty();

    let num=1;
    data.forEach(function(item) {
      var row = `<tr data-id="${item.id}">
                      <td>${num}</td>
                      <td>${item.task_title1}</td>
                      <td>${item.task_desc1}</td>
                      <td>${item.task_due1}</td>
                      <td>${item.task_priority1}</td>
                      <td>${item.task_status1}</td>
                      <td> <button id='but1' class='btn btn-primary' data-bs-toggle='modal' data-bs-target='#basicModal'>Edit </button> </td>
                    </tr>
                      `;
      tbody.append(row);
      num++;
  
    });


  }

  
});


}


function createData() {
var title = $('#tasktitle').val();
var desc = $('#taskdesc').val();
var dte = $('#duedate').val();
var prio = $('#priority').val();
var status = $('#status').val();  

$.ajax({
  url: '/data/create/',
  type: 'POST',
  dataType: 'json',
  data: {
    title: title,
    desc: desc,
    dte:dte,
    prio:prio,
    status:status

  },
  success: function(response) {

    $('#tasktitle').val('');
    $('#taskdesc').val('');
    $('#duedate').val('');
    $('#priority').val('');
    $('#status').val('');  

    location.reload()
    loadData();
  }
});
}




function updateData() {
var selectedRow = $('#tasktable tbody tr.selected');
if (selectedRow.length === 0) {
  alert('Please select a row to update.');
  return;
}

var id = selectedRow.data('id');
var title = $('#tasktitle').val();
var desc = $('#taskdesc').val();
var dte = $('#duedate').val();
var prio = $('#priority').val();
var status = $('#status').val();  


$.ajax({
  url: '/data/update/' + id + '/',
  type: 'POST',
  dataType: 'json',
  data: {
    title: title,
    desc: desc,
    dte:dte,
    prio:prio,
    status:status
  },
  success: function(response) {

    $('#tasktitle').val('');
    $('#taskdesc').val('');
    $('#duedate').val('');
    $('#priority').val('');
    $('#status').val('');  

    loadData();
  }
});
}




function deleteData() {
var selectedRow = $('#tasktable tbody tr.selected');
if (selectedRow.length === 0) {
  alert('Please select a row to delete.');
  return;
}
if (confirm('Are you sure you want to delete this image?')) {

var id = selectedRow.data('id');

$.ajax({
  url: '/data/delete/' + id + '/',  
  type: 'POST',
  dataType: 'json',
  success: function(response) {

    $('#tasktitle').val('');
    $('#taskdesc').val('');
    $('#duedate').val('');
    $('#priority').val('');
    $('#status').val('');  


    location.reload()
    loadData();
  }
});
}
}



$(document).on('click', '#tasktable tbody tr', function() {
$('#tasktable tbody tr').removeClass('selected');
$(this).addClass('selected');

var title = $(this).find('td:eq(1)').text();
var desc = $(this).find('td:eq(2)').text();
var dte = $(this).find('td:eq(3)').text();
var prio = $(this).find('td:eq(4)').text();
var status = $(this).find('td:eq(5)').text();

$('#tasktitle').val(title);
$('#taskdesc').val(desc);
$('#duedate').val(dte);
$('#priority').val(prio);
$('#status').val(status);
});


var dataTable = $('.datatable').DataTable({

});

dataTable.columns().every(function() {
var column = this;

$('.filter-column', this.footer()).on('keyup change', function() {
  if (column.search() !== this.value) {
    column
      .search(this.value)
      .draw();
    this.focus();
  }
});
});







@csrf_exempt
def search_sort_gennews(request):
    user=request.user
    if request.method == 'POST':
        search_query = request.POST.get('search_query')
        sort_by = request.POST.get('sort_by')
        sort_by2 = request.POST.get('sort_by2')
        user_by = request.POST.get('user_by')
        today = datetime.today()
        year = today.year
        month = today.month
        day = today.day
        if sort_by!=None:
            day1=sort_by[8:]
            month1=sort_by[5:7]
            year1=sort_by[:4]
            print(day1,month1,year1)
        else:
            pass
        print('gen_news ',user_by)
        print('gen_news ',sort_by)
        print('gen_news ',sort_by2)
        
        # dte = datetime.strptime(sort_by.group(), '%Y-%m-%d').date()
        # print(dte)
        if sort_by=='':

            if user_by=='All':    
                data = news_updates.objects.filter(news_title__icontains=search_query,news_created__day=day,news_created__year=year,news_catagory='General').order_by('-news_created')
                response_data = []
                for item in data:
                    print(item.news_created)
                    response_data.append({
                    'image_url': item.news_img.url,
                    'news_title': item.news_title,
                    'news_desc': item.news_desc,
                    })
            else:
                data = news_updates.objects.filter(news_title__icontains=search_query,user=user_by,news_created__day=day,news_created__year=year,news_catagory='General').order_by('-news_created')
                response_data = []
                for item in data:
                    response_data.append({
                    'image_url': item.news_img.url,
                    'news_title': item.news_title,
                    'news_desc': item.news_desc,
                    })
        else:
            if user_by=='All':    
                data = news_updates.objects.filter(news_title__icontains=search_query,news_created__day=day1,news_created__month=month1,news_created__year=year1,news_catagory='General').order_by('-news_created')
                # print(data)
                response_data = []
                for item in data:
                    response_data.append({
                    'image_url': item.news_img.url,
                    'news_title': item.news_title,
                    'news_desc': item.news_desc,
                    })
            else:
                data = news_updates.objects.filter(news_title__icontains=search_query,user=user_by,news_created__day=day1,news_created__month=month1,news_created__year=year1,news_catagory='General').order_by('-news_created')
                response_data = []
                for item in data:
                    response_data.append({
                    'image_url': item.news_img.url,
                    'news_title': item.news_title,
                    'news_desc': item.news_desc,
                    })     
        return JsonResponse(response_data, safe=False)





function loadData() {
$.ajax({
  url: '/data_task_view/',
  type: 'GET',
  dataType: 'json',
  success: function(data) {
    var tbody = $('#tasktable tbody');
    tbody.empty();

    let num=1;
    data.forEach(function(item) {
      var row = `<tr data-id="${item.id}">
                      <td>${num}</td>
                      <td>${item.task_title}</td>
                      <td>${item.task_desc}</td>
                      <td>${item.task_due}</td>
                      <td>${item.task_priority}</td>
                      <td>${item.task_status}</td>
                      <td> <button id='but1' class='btn btn-primary' data-bs-toggle='modal' data-bs-target='#basicModal2'>Edit </button> </td>
                    </tr>
                      `;
      tbody.append(row);

      
      num++;

    });

    var dataTable = $('.datatable').DataTable({
      "destroy": true,
      

    });


    dataTable.columns().every(function() {
    var column = this;

    $('.filter-column', this.footer()).on('keyup change', function() {
      if (column.search() !== this.value) {
        column
          .search(this.value)
          .draw();
        this.focus();
      }
    });
    });


  }

  
});

}


def task_list(request):
    user=request.user
    data = task1.objects.filter(user1=user).exclude(task_activation='deactive').order_by('-task_created')
    response_data = []
    for item in data:
        response_data.append({
        'id':item.id,
        'task_title': item.task_title1,
        'task_desc': item.task_desc1,
        'task_due': item.task_due1,
        'task_priority': item.task_priority1,
        'task_status': item.task_status1,
        })
    return JsonResponse(response_data, safe=False)






    

// var dataTable = $('.datatable').DataTable({
//   "destroy": true,
// });

// dataTable.columns().every(function() {
// var column = this;

// $('.filter-column', this.footer()).on('keyup change', function() {
//   if (column.search() !== this.value) {
//     column
//       .search(this.value)
//       .draw();
//     this.focus();
//   }
// });
// });